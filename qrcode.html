<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf8">
    <title>QR code</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.js"></script> 
<style>
/* style.css */
body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 50px;
}

input, button {
    margin: 10px;
    padding: 10px;
    font-size: 16px;
}

#qrcode {
    margin-top: 20px;
}
</style>
</head>
<body>
    <textarea id="text" type="text" placeholder="input text here .." cols=100 rows=10></textarea>
    <span id=err></span>
    <button id="generate">gen qrCode</button>
    <div id="qrcode"></div>

</body>
</html>
<script>
document.getElementById('generate').addEventListener('click', function() {
    var text = "the content: " + document.getElementById('text').value;
    if(text) {
	document.getElementById('err').innerHTML = "";
        document.getElementById('qrcode').innerHTML = "";
	try {
        	new QRCode(document.getElementById("qrcode"), { text: text, width: 256, height: 256,correctLevel : QRCode.CorrectLevel.L})
	}catch(e) {
        	document.getElementById('err').innerHTML = e.message + "<br>("+text.length+")";
	}
    } else {
        document.getElementById('err').innerHTML = "please input text!";
    }
});
</script>
