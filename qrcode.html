<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>生成二维码</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script> 
<style>
/* style.css */
body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 50px;
}

input, button {
    margin: 10px;
    padding: 10px;
    font-size: 16px;
}

#qrcode {
    margin-top: 20px;
}
</style>
</head>
<body>
    <textarea id="text" type="text" placeholder="输入内容" cols=100 rows=10></textarea>
    <span id=err></span>
    <button id="generate">生成二维码</button>
    <div id="qrcode"></div>

</body>
</html>
<script>
document.getElementById('generate').addEventListener('click', function() {
    var text = "[\n" + document.getElementById('text').value + "\n]";
    if(text) {
	document.getElementById('err').innerHTML = "";
	try {
	// 清除旧的二维码
        document.getElementById('qrcode').innerHTML = "";
        // 生成新的二维码
        new QRCode(document.getElementById("qrcode"), text);
	}catch(e) {
        	document.getElementById('err').innerHTML = e.message;
	}
    } else {
        alert("请输入内容！");
    }
});
</script>
